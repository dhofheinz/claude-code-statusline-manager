{
  "branch_protection_rules": {
    "main": {
      "required_status_checks": {
        "strict": true,
        "contexts": [
          "lint / shellcheck",
          "test / test-linux",
          "test / test-macos",
          "security / trivy",
          "security / secrets",
          "coverage / report"
        ]
      },
      "enforce_admins": false,
      "required_pull_request_reviews": {
        "dismissal_restrictions": {
          "users": [],
          "teams": ["maintainers"]
        },
        "dismiss_stale_reviews": true,
        "require_code_owner_reviews": true,
        "required_approving_review_count": 1,
        "require_last_push_approval": true
      },
      "restrictions": {
        "users": [],
        "teams": ["maintainers"],
        "apps": ["dependabot", "renovate"]
      },
      "required_linear_history": true,
      "allow_force_pushes": false,
      "allow_deletions": false,
      "required_conversation_resolution": true,
      "lock_branch": false,
      "allow_auto_merge": true,
      "delete_branch_on_merge": true
    },
    "develop": {
      "required_status_checks": {
        "strict": false,
        "contexts": [
          "lint / shellcheck",
          "test / test-linux"
        ]
      },
      "enforce_admins": false,
      "required_pull_request_reviews": {
        "dismiss_stale_reviews": false,
        "require_code_owner_reviews": false,
        "required_approving_review_count": 0
      },
      "restrictions": null,
      "required_linear_history": false,
      "allow_force_pushes": false,
      "allow_deletions": false,
      "required_conversation_resolution": false
    },
    "release/*": {
      "required_status_checks": {
        "strict": true,
        "contexts": [
          "lint / shellcheck",
          "test / test-linux",
          "test / test-macos",
          "security / trivy",
          "build / release-dry-run"
        ]
      },
      "enforce_admins": true,
      "required_pull_request_reviews": {
        "required_approving_review_count": 2,
        "require_code_owner_reviews": true,
        "dismiss_stale_reviews": true
      },
      "restrictions": {
        "users": [],
        "teams": ["release-managers"]
      },
      "required_linear_history": true,
      "allow_force_pushes": false,
      "allow_deletions": false,
      "required_conversation_resolution": true
    }
  }
}